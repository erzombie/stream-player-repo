<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Uma Stat Bar Overlay</title>
  <style>
    body{margin:0;background:transparent;font-family:'Roboto',system-ui,sans-serif;color:#4a2c0a}
    #barWrapper{display:flex;justify-content:center;align-items:flex-start;gap:0;box-shadow:0 6px 18px rgba(0,0,0,.25);border-radius:10px;overflow:hidden;width:max-content;margin:20px auto}
    .stat{background:#fdf6eb;flex:1;min-width:140px;text-align:center;position:relative;border-right:1px solid #d8cbb6}
    .stat:last-child{border-right:none}
    .label{background:#4b2f1a;color:#fff;font-weight:700;padding:4px;font-size:15px}
    .label img{height:22px;object-fit:contain;display:block;margin:0 auto}
    .value{font-size:32px;font-weight:900;position:relative;z-index:1;padding:6px 0}
    .value.animateUp{animation:valRise 0.6s ease-out}
    .value.animateDown{animation:valDrop 0.6s ease-out}

    @keyframes valRise{0%{transform:translateY(8px);opacity:0}40%{opacity:1}100%{transform:translateY(0);opacity:1}}
    @keyframes valDrop{0%{transform:translateY(-8px);opacity:0}40%{opacity:1}100%{transform:translateY(0);opacity:1}}

    .chevron{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);opacity:.8;z-index:0}
    .chevron.up{animation:chevRise 0.8s cubic-bezier(.2,.9,.2,1) forwards}
    .chevron.down{animation:chevDrop 0.8s cubic-bezier(.2,.9,.2,1) forwards}

    @keyframes chevRise{0%{transform:translate(-50%,20px);opacity:0}30%{opacity:1}100%{transform:translate(-50%,-20px);opacity:0}}
    @keyframes chevDrop{0%{transform:translate(-50%,-20px);opacity:0}30%{opacity:1}100%{transform:translate(-50%,20px);opacity:0}}

    .delta{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font:900 20px/1 'Roboto',sans-serif;-webkit-text-stroke:3px #fff;z-index:2}
    .delta.up{background:linear-gradient(to top,#ff8a00,#ffd080);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .delta.down{background:linear-gradient(to top,#3a8dff,#a0cfff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  </style>
</head>
<body>
  <div id="barWrapper">
    <div class="stat" id="s_Speed">
      <div class="label"><img src="https://erzombie.github.io/stream-player-repo/uma_overlay/bar_speed.png" alt="Speed"/></div>
      <div class="value" id="val_Speed">0</div>
    </div>
    <div class="stat" id="s_Stamina">
      <div class="label"><img src="https://erzombie.github.io/stream-player-repo/uma_overlay/bar_stamina.png" alt="Stamina"/></div>
      <div class="value" id="val_Stamina">0</div>
    </div>
    <div class="stat" id="s_Power">
      <div class="label"><img src="https://erzombie.github.io/stream-player-repo/uma_overlay/bar_power.png" alt="Power"/></div>
      <div class="value" id="val_Power">0</div>
    </div>
    <div class="stat" id="s_Guts">
      <div class="label"><img src="https://erzombie.github.io/stream-player-repo/uma_overlay/bar_guts.png" alt="Guts"/></div>
      <div class="value" id="val_Guts">0</div>
    </div>
    <div class="stat" id="s_Wit">
      <div class="label"><img src="https://erzombie.github.io/stream-player-repo/uma_overlay/bar_wit.png" alt="Wit"/></div>
      <div class="value" id="val_Wit">0</div>
    </div>
  </div>

  <script>
    const CHEV_UP   = 'https://erzombie.github.io/stream-player-repo/uma_overlay/uma_pos_chevron.png';
    const CHEV_DOWN = 'https://erzombie.github.io/stream-player-repo/uma_overlay/uma_neg_chevron.png';

    function animateStat(stat,newVal,theme){
      const el=document.getElementById('val_'+stat);
      if(!el)return;
      const old=parseInt(el.textContent)||0;
      el.textContent=newVal;

      el.classList.remove('animateUp','animateDown');
      void el.offsetWidth;
      el.classList.add(theme==='down'?'animateDown':'animateUp');

      // Chevron
      const chev=document.createElement('img');
      chev.src=(theme==='down'?CHEV_DOWN:CHEV_UP);
      chev.className='chevron '+(theme==='down'?'down':'up');
      chev.style.height='28px';
      el.parentElement.appendChild(chev);
      setTimeout(()=>chev.remove(),800);

      // Delta
      const delta=document.createElement('div');
      delta.className='delta '+(theme==='down'?'down':'up');
      const diff=newVal-old;
      delta.textContent=(diff>0?'+':'')+diff;
      el.parentElement.appendChild(delta);
      setTimeout(()=>delta.remove(),800);
    }

    // Demo sequence
    window.addEventListener('load',()=>{
      setTimeout(()=>animateStat('Speed',120,'up'),1000);
      setTimeout(()=>animateStat('Stamina',87,'up'),1600);
      setTimeout(()=>animateStat('Power',20,'up'),2200);
      setTimeout(()=>animateStat('Guts',-40,'down'),2800);
      setTimeout(()=>animateStat('Wit',-30,'down'),3400);
    });
  </script>
</body>
</html>
